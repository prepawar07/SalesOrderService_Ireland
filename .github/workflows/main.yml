steps:
- name: Checkout repository
  uses: actions/checkout@v4

- name: Run SoapUI Test
  uses: docker://smartbear/soapui-testrunner:latest
  with:
    args: |
      -s "${{ github.event.inputs.test_suite || 'CreateNewCustomer_SIT4' }}" \
      -c "${{ github.event.inputs.test_case || 'BillPay SIT4' }}" \
      -r \
      -a \
      -f test-results \
      SalesOrderService-soapui-project.xml

- name: Upload test results
  uses: actions/upload-artifact@v4
  if: always()
  with:
    name: soapui-test-results
    path: test-results/
